<!DOCTYPE html>
<html lang="en">
<head>
    <base href="./">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>{{title}} - CMS</title>
    
    <!-- CoreUI CSS -->
    <link href="/node_modules/@coreui/coreui/dist/css/coreui.min.css" rel="stylesheet">
    <link href="/node_modules/@coreui/icons/css/all.min.css" rel="stylesheet">
    <!-- Bootstrap -->
    <link href="/node_modules/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="/css/style.css" rel="stylesheet">
</head>
<body class="{{#if sidebar}}sidebar-show{{/if}}">
    {{#if sidebar}}
    <div class="sidebar sidebar-dark sidebar-fixed" id="sidebar">
        <div class="sidebar-brand d-none d-md-flex">
            <h3>CMS</h3>
        </div>
        <ul class="sidebar-nav" data-coreui="navigation">
            <li class="nav-item">
                <a class="nav-link" href="/dashboard">
                    <svg class="nav-icon">
                        <use xlink:href="/node_modules/@coreui/icons/sprites/free.svg#cil-speedometer"></use>
                    </svg> Dashboard
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#" data-coreui-toggle="modal" data-coreui-target="#requestModal">
                    <svg class="nav-icon">
                        <use xlink:href="/node_modules/@coreui/icons/sprites/free.svg#cil-note-add"></use>
                    </svg> Submit Request
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/logout">
                    <svg class="nav-icon">
                        <use xlink:href="/node_modules/@coreui/icons/sprites/free.svg#cil-account-logout"></use>
                    </svg> Logout
                </a>
            </li>
        </ul>
    </div>
    {{/if}}

    <div class="wrapper d-flex flex-column min-vh-100 bg-light">
        {{#if sidebar}}
        <header class="header header-sticky mb-4">
            <div class="container-fluid">
                <button class="header-toggler px-md-0 me-md-3" type="button" onclick="coreui.Sidebar.getInstance(document.querySelector('#sidebar')).toggle()">
                    <svg class="icon icon-lg">
                        <use xlink:href="/node_modules/@coreui/icons/sprites/free.svg#cil-menu"></use>
                    </svg>
                </button>
                <span class="header-text ms-3">Welcome, {{username}}!</span>
            </div>
        </header>
        {{/if}}

        <div class="body flex-grow-1 px-3">
            {{{body}}}
        </div>
    </div>

    <!-- CoreUI and necessary plugins-->
    <script src="/node_modules/@coreui/coreui/dist/js/coreui.bundle.min.js"></script>
    <script src="/node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    
    {{#if scripts}}
        {{{scripts}}}
    {{/if}}


    <!-- Add this to your sidebar navigation -->
{{#if (eq UserType 'hod')}}
<li class="nav-item">
    <a class="nav-link" href="/hod/dashboard">
        <svg class="nav-icon">
            <use xlink:href="/node_modules/@coreui/icons/sprites/free.svg#cil-education"></use>
        </svg>
        HoD Panel
    </a>
</li>
{{/if}}
</body>
</html>