<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no" />
    <title>{{title}}</title>

    <!-- ✅ CoreUI CSS -->
    <link rel="stylesheet" href="/dist/vendors/simplebar/css/simplebar.css" />
    <link href="/dist/css/style.css" rel="stylesheet" />
    <link href="/dist/css/examples.css" rel="stylesheet" />
    <link href="/dist/vendors/@coreui/chartjs/css/coreui-chartjs.css" rel="stylesheet" />
  </head>

  <body>
    <!-- ✅ Sidebar -->
    <div class="sidebar sidebar-dark sidebar-fixed d-flex flex-column" id="sidebar">
      <div class="sidebar-brand d-none d-md-flex">
        <svg class="sidebar-brand-full" width="118" height="46"><use xlink:href="/dist/assets/brand/coreui.svg#full"></use></svg>
        <svg class="sidebar-brand-narrow" width="46" height="46"><use xlink:href="/dist/assets/brand/coreui.svg#signet"></use></svg>
      </div>

      <!-- ✅ Sidebar Navigation Scrollable Section -->
      <div class="sidebar-nav flex-grow-1" data-coreui="navigation" data-simplebar>
        <ul class="nav">
          {{#if (eq userType "admin")}}
            <li class="nav-title">Admin</li>
            <li class="nav-item">
              <a class="nav-link {{#if (eq page 'Admin Dashboard')}}active{{/if}}" href="/admin">
                <svg class="nav-icon"><use xlink:href="/dist/vendors/@coreui/icons/svg/free.svg#cil-speedometer"></use></svg>
                Admin Dashboard
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link {{#if (eq page 'Manage Queues')}}active{{/if}}" href="/admin/queues">
                <svg class="nav-icon"><use xlink:href="/dist/vendors/@coreui/icons/svg/free.svg#cil-task"></use></svg>
                Manage Queues
              </a>
            </li>
          {{/if}}

          {{#if (eq userType "student")}}
            <li class="nav-title">Student</li>

            <li class="nav-item">
              <a class="nav-link {{#if (eq page 'Dashboard')}}active{{/if}}" href="/dashboard">
                <svg class="nav-icon"><use xlink:href="/dist/vendors/@coreui/icons/svg/free.svg#cil-speedometer"></use></svg>
                Dashboard
              </a>
            </li>

            <li class="nav-item">
              <a class="nav-link {{#if (eq page 'My Requests')}}active{{/if}}" href="/my-requests">
                <svg class="nav-icon"><use xlink:href="/dist/vendors/@coreui/icons/svg/free.svg#cil-notes"></use></svg>
                My Requests
              </a>
            </li>
          {{/if}}
  
            {{#if (eq userType "teacher")}}
            <li class="nav-title">Teacher</li>
  
            <li class="nav-item">
              <a class="nav-link {{#if (eq page 'Dashboard')}}active{{/if}}" href="/dashboard">
                <svg class="nav-icon"><use xlink:href="/dist/vendors/@coreui/icons/svg/free.svg#cil-speedometer"></use></svg>
                Dashboard
              </a>
            </li>
  
            <li class="nav-item">
              <a class="nav-link {{#if (eq page 'My Requests')}}active{{/if}}" href="/my-requests">
                <svg class="nav-icon"><use xlink:href="/dist/vendors/@coreui/icons/svg/free.svg#cil-notes"></use></svg>
                My Requests
              </a>
            </li>
          {{/if}}
        </ul>
      </div>

      <!-- ✅ Logout Link (correct CoreUI nav style) -->
      <div class="sidebar-footer mt-auto px-3">
        <a class="nav-link text-white d-flex align-items-center" href="/logout">
          <svg class="nav-icon" style="width: 1.25rem; height: 1.25rem;">
            <use xlink:href="/dist/vendors/@coreui/icons/svg/free.svg#cil-account-logout"></use>
          </svg>
          <span class="ms-2">Logout</span>
        </a>
      </div>      


      <button class="sidebar-toggler" type="button" data-coreui-toggle="unfoldable"></button>
    </div>

    <!-- ✅ Page Wrapper -->
    <div class="wrapper d-flex flex-column min-vh-100 bg-light">
      <!-- ✅ Header -->
      <header class="header header-sticky mb-4">
        <div class="container-fluid">
          <button class="header-toggler px-md-0 me-md-3" type="button" onclick="coreui.Sidebar.getInstance(document.querySelector('#sidebar')).toggle()">
            <svg class="icon icon-lg"><use xlink:href="/dist/vendors/@coreui/icons/svg/free.svg#cil-menu"></use></svg>
          </button>
          <a class="header-brand d-md-none" href="/">
            <svg width="118" height="46"><use xlink:href="/dist/assets/brand/coreui.svg#full"></use></svg>
          </a>
          <ul class="header-nav ms-auto">
            <li class="nav-item"><a class="nav-link" href="/dashboard">{{username}}</a></li>
          </ul>
        </div>
        <div class="header-divider"></div>
        <div class="container-fluid">
          <nav aria-label="breadcrumb">
            <ol class="breadcrumb my-0 ms-2">
              <li class="breadcrumb-item"><a href="/">Home</a></li>
              <li class="breadcrumb-item active"><span>{{page}}</span></li>
            </ol>
          </nav>
        </div>
      </header>

      <!-- ✅ Main Content Area -->
      <main class="body flex-grow-1 px-3">
        <div class="container-lg mt-4">
          {{{body}}}
        </div>
      </main>

      <!-- ✅ Footer -->
      <footer class="footer">
        <div><a href="https://coreui.io">CoreUI</a> © 2025</div>
        <div class="ms-auto">Powered by&nbsp;<a href="https://coreui.io/docs/">CoreUI UI</a></div>
      </footer>
    </div>

    <!-- ✅ CoreUI JS -->
    <script src="/dist/vendors/@coreui/coreui/js/coreui.bundle.min.js"></script>
    <script src="/dist/vendors/simplebar/js/simplebar.min.js"></script>
    <script src="/dist/vendors/chart.js/js/chart.min.js"></script>
    <script src="/dist/vendors/@coreui/chartjs/js/coreui-chartjs.js"></script>
    <script src="/dist/vendors/@coreui/utils/js/coreui-utils.js"></script>
    <script src="/dist/js/main.js"></script>
  </body>
</html>
